{"version":3,"sources":["all.js"],"names":["$","api_path","token","categoryAry","allProducts","pdtList","document","querySelector","categorySelect","cartList","deleteBtn","myForm","getElementById","sendBtn","addEventListener","e","preventDefault","target","nodeName","addItemToCart","dataset","num","renderSelectData","value","deleteCartId","cart","deleteAllCarts","initView","getProductList","getCartList","url","axios","then","response","data","status","renderCartData","carts","error","console","log","cartId","get","products","JSON","parse","stringify","renderPdtData","temp","forEach","item","push","category","Array","from","Set","renderSelect","cartData","str","total","product","images","title","price","quantity","id","innerHTML","totalAmount","selData","filterAry","filter","origin_price","post","productId","swiper","Swiper","slidesPerView","spaceBetween","autoplay","delay","disableOnInteraction","breakpoints","constraints","name","presence","message","telephone","email","address","trade","inputs","querySelectorAll","tempForm","checkInputs","userObj","tel","payment","Object","keys","sendCartOrder","textContent","errors","validate","userData","user","alert"],"mappings":"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","file":"all.js","sourcesContent":["$(function () {\n  // console.log(\"Hello Bootstrap5\");\n});\n\n// variables\nconst api_path = \"yurit630\";\nconst token = \"pI1fp1SJC0XQfpViyEBA5VJlqkv2\";\nlet categoryAry = [];\nlet allProducts = [];\n//dom\nconst pdtList = document.querySelector(\".pdtList\");\nconst categorySelect = document.querySelector(\".categorySelect\");\nconst cartList = document.querySelector(\".cartList\");\nconst deleteBtn = document.querySelector(\".deleteBtn\");\nconst myForm = document.getElementById(\"myForm\");\nconst sendBtn = document.querySelector(\".sendBtn\");\n\n// 監聽\npdtList.addEventListener(\"click\", (e) => {\n  e.preventDefault;\n  if (e.target.nodeName != \"BUTTON\") return;\n  addItemToCart(e.target.dataset.num);\n});\n\ncategorySelect.addEventListener(\"change\", (e) => {\n  renderSelectData(e.target.value);\n});\n\ncartList.addEventListener(\"click\", (e) => {\n  e.preventDefault;\n  if (e.target.nodeName != \"I\") return;\n  deleteCartId(e.target.dataset.cart);\n});\n\ndeleteBtn.addEventListener(\"click\", (e) => {\n  e.preventDefault;\n  deleteAllCarts();\n});\n\ninitView();\n\nfunction initView() {\n  getProductList();\n  getCartList();\n}\n\n// 刪除購物車全部品項\nfunction deleteAllCarts() {\n  let url = `https://livejs-api.hexschool.io/api/livejs/v1/customer/${api_path}/carts`;\n  axios\n    .delete(url)\n    .then(function (response) {\n      // 成功會回傳的內容\n      if (response.data.status) {\n        renderCartData(response.data.carts);\n      }\n    })\n    .catch(function (error) {\n      // 失敗會回傳的內容\n      console.log(\"deleteAllCarts\", error);\n    });\n}\n\n// 刪除購物車特定產品\nfunction deleteCartId(cartId) {\n  let url = `https://livejs-api.hexschool.io/api/livejs/v1/customer/${api_path}/carts/${cartId}`;\n  axios\n    .delete(url)\n    .then(function (response) {\n      // 成功會回傳的內容\n      if (response.data.status) {\n        renderCartData(response.data.carts);\n      }\n    })\n    .catch(function (error) {\n      // 失敗會回傳的內容\n      console.log(error);\n    });\n}\n\n// 取得產品列表\nfunction getProductList() {\n  axios\n    .get(\n      `https://livejs-api.hexschool.io/api/livejs/v1/customer/${api_path}/products`\n    )\n    .then(function (response) {\n      if (response.data.status === true) {\n        let products = response.data.products;\n        allProducts = JSON.parse(JSON.stringify(products));\n        renderPdtData(products);\n        // 產品有的種類\n        let temp = [];\n        products.forEach((item) => {\n          temp.push(item.category);\n        });\n        categoryAry = Array.from(new Set(temp));\n        renderSelect(categoryAry);\n      }\n    })\n    .catch(function (error) {\n      console.log(error.response.data);\n    });\n}\n\n// 取得購物車列表\nfunction getCartList() {\n  let url = `https://livejs-api.hexschool.io/api/livejs/v1/customer/${api_path}/carts`;\n  axios\n    .get(url)\n    .then(function (response) {\n      if (response.data.status === true) {\n        renderCartData(response.data.carts);\n      }\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n}\n\n// 渲染購物車商品列表\nfunction renderCartData(cartData) {\n  let str = \"\";\n  let total = 0;\n  // 購物車商品\n  cartData.forEach((item) => {\n    str += `          \n    <tr class=\"tableCart\">\n            <td scope=\"row\" class=\"d-flex align-items-center\">\n              <img\n                class=\"cartImg d-none d-md-block\"\n                src=\"${item.product.images}\"\n                alt=\"${item.product.title}\"\n              />\n              <h3 class=\"h4 d-inline-block ms-md-6 mb-0\">\n                ${item.product.title}\n              </h3>\n            </td>\n            <td>NT$${item.product.price}</td>\n            <td>${item.quantity}</td>\n            <td>NT$${item.product.price}</td>\n            <td>\n              <button href=\"#\" class=\"btn btn-link\"\n                ><i data-cart=\"${item.id}\" class=\"fas fa-times\" style=\"font-size: 24px\"></i>\n              </button>\n            </td>\n          </tr>`;\n    total += item.quantity * item.product.price;\n  });\n  cartList.innerHTML = str;\n  const totalAmount = document.querySelector(\".totalAmount\");\n  totalAmount.innerHTML = `NT$ ${total}`;\n}\n\n// 渲染Select : 種類\nfunction renderSelect(selData) {\n  let str =\n    '<option selected disabled>請選擇種類</option><option value=\"all\">全部</option>';\n  selData.forEach((item) => {\n    str += `\n    <option value=\"${item}\">${item}</option>\n    `;\n  });\n  categorySelect.innerHTML = str;\n}\n\n// 渲染Select 選擇資料後的畫面\nfunction renderSelectData(category) {\n  let filterAry = [];\n  if (category !== \"all\") {\n    filterAry = allProducts.filter((item) => {\n      if (category === item.category) {\n        return item;\n      }\n    });\n  } else {\n    filterAry = allProducts;\n  }\n  renderPdtData(filterAry);\n}\n\n// 渲染產品清單\nfunction renderPdtData(data) {\n  let str = \"\";\n  data.forEach((item) => {\n    str += `\n        <li class=\"col mt-0 mb-11\">\n      <div class=\"card h-100 border-0 position-relative\">\n        <span\n          class=\"\n            pdtBadge\n            badge\n            rounded-0\n            bg-primary\n            position-absolute\n            top-10\n            start-85\n            translate-middle\n          \"\n          >新品</span\n        >\n        <img\n          src=\"${item.images}\"\n          class=\"card-img-top\"\n          alt=\"${item.title}\"\n        />\n        <div class=\"card-body p-0\">\n          <button class=\"btn btn-primary w-100 rounded-0 fz-4 py-3 mb-3\" href=\"#\" data-num=\"${item.id}\"\n            >加入購物車</button\n          >\n          <h3 class=\"h4\" data-category=\"${item.category}\">${item.title}</h3>\n          <p class=\"h4 text-decoration-line-through mb-0\">NT$${item.origin_price}</p>\n          <p class=\"h2 fw-bold mb-0\">NT$${item.price}</p>\n        </div>\n      </div>\n    </li>\n    `;\n  });\n  pdtList.innerHTML = str;\n}\n\n// 將單一商品加入購物車列表\nfunction addItemToCart(cartId) {\n  let url = `https://livejs-api.hexschool.io/api/livejs/v1/customer/${api_path}/carts`;\n  axios\n    .post(url, {\n      data: {\n        productId: `${cartId}`,\n        quantity: 1,\n      },\n    })\n    .then(function (response) {\n      if (response.data.status) {\n        renderCartData(response.data.carts);\n      }\n    })\n    .catch(function (error) {\n      console.log(error.response.data);\n    });\n}\n\nlet swiper = new Swiper(\".mySwiper\", {\n  slidesPerView: 1,\n  spaceBetween: 10,\n  autoplay: {\n    delay: 3500,\n    disableOnInteraction: false,\n  },\n  breakpoints: {\n    \"@0.00\": {\n      slidesPerView: 1,\n      spaceBetween: 10,\n    },\n    \"@0.75\": {\n      slidesPerView: 2,\n      spaceBetween: 20,\n    },\n    \"@1.00\": {\n      slidesPerView: 3,\n      spaceBetween: 40,\n    },\n  },\n});\n\nlet constraints = {\n  name: {\n    // 必填\n    presence: {\n      message: \"必填\",\n    },\n  },\n  telephone: {\n    presence: {\n      message: \"必填\",\n    },\n  },\n  email: {\n    presence: {\n      message: \"必填\",\n    },\n  },\n  address: {\n    presence: {\n      message: \"必填\",\n    },\n  },\n  trade: {\n    presence: {\n      message: \"必填\",\n    },\n  },\n};\n\nconst inputs = document.querySelectorAll(\"input, select[name=trade]\");\n\nlet tempForm = [];\nsendBtn.addEventListener(\"click\", () => {\n  checkInputs();\n  let userObj = {\n    name: \"default\",\n    tel: \"default\",\n    email: \"default\",\n    address: \"default\",\n    payment: \"default\",\n  };\n  inputs.forEach((item) => {\n    if (item.name === \"trade\") userObj[\"payment\"] = item.value;\n    if (item.name === \"telephone\") userObj[\"tel\"] = item.value;\n    Object.keys(userObj).forEach((keys) => {\n      if (keys === item.name) userObj[item.name] = item.value;\n    });\n  });\n  sendCartOrder(userObj);\n});\n\nfunction checkInputs() {\n  // 清除原本的表格欄位\n  tempForm.forEach(function (item) {\n    document.querySelector(`.${item}`).textContent = \"\";\n  });\n  const errors = validate(myForm, constraints);\n  //呈現在畫面上\n  if (errors) {\n    Object.keys(errors).forEach(function (keys) {\n      document.querySelector(`.${keys}`).textContent = \"必填!\";\n      tempForm.push(keys);\n    });\n  }\n  console.log(errors);\n}\n\nfunction sendCartOrder(userData) {\n  let url = `https://livejs-api.hexschool.io/api/livejs/v1/customer/${api_path}/orders`;\n  axios\n    .post(url, {\n      data: { user: userData },\n    })\n    .then(function (response) {\n      console.log(response.data);\n      renderCartData([]);\n      alert(\"訂單完成!\");\n      document.querySelectorAll(\"input\").forEach((item) => {\n        item.value = \"\";\n      });\n    })\n    .catch(function (error) {\n      console.log(error.response.data);\n    });\n}\n"]}